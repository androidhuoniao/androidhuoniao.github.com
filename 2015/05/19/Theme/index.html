
 <!DOCTYPE HTML>
<html lang="zh_cn">
<head>
  <meta charset="UTF-8">
  
    <title>idealGrass</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="grass">
    
    <meta name="description" content="title: Android Style and Themedate: 2015-05-19 18:50:55
tags:Android,Style,Theme
前言
今天自定义SeekBar的时候，遇到一个问题，如何改变SeekBar的background，progress，secondProgr">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.svg" alt="idealGrass" title="idealGrass"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="idealGrass">idealGrass</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/atom.xml">Rss</a></li>
					
						<li><a href="/sitemap.xml">Sitemap</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/19/Theme/" title="" itemprop="url"></a>
  </h1>
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="grass">grass</a>
    </p>
  <p class="article-time">
    <time datetime="2015-05-19T11:40:16.000Z" itemprop="datePublished">5月 19 2015</time>
    Updated:<time datetime="2015-05-19T11:40:16.000Z" itemprop="dateModified">5月 19 2015</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#tags:Android,Style,Theme"><span class="toc-number">1.</span> <span class="toc-text">tags:Android,Style,Theme</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">2.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查找progressBarStyleHorizontal"><span class="toc-number">3.</span> <span class="toc-text">查找progressBarStyleHorizontal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#style-xml"><span class="toc-number">4.</span> <span class="toc-text">style.xml</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#语法"><span class="toc-number">4.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用"><span class="toc-number">4.2.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#style的继承"><span class="toc-number">4.3.</span> <span class="toc-text">style的继承</span></a></li></ol></li></ol>
		</div>
		
		<p>title: Android Style and Theme<br>date: 2015-05-19 18:50:55</p>
<h2 id="tags:Android,Style,Theme">tags:Android,Style,Theme</h2>
<h2 id="前言">前言</h2>
<p>今天自定义SeekBar的时候，遇到一个问题，如何改变SeekBar的background，progress，secondProgress的图片？</p>
<h2 id="查找progressBarStyleHorizontal">查找progressBarStyleHorizontal</h2>
<p>在SeekBar的layout xml中可以指定style来确定该SeekBar的样式，是圆形的，还是横向的</p>
<pre><code><span class="variable">style=</span><span class="string">"?android:attr/progressBarStyleHorizontal"</span>
</code></pre><p>在Android工程中，哪里可以找到progressBarStyleHorizontal，看一下该style到底定义了那些属性。<br>在目录frameworks/base/core/res/res/values下有theme.xml和style.xml两个文件，我们知道style和theme的定义都在这两个文件下。<br>在theme.xml文件中发现</p>
<pre><code>&lt;item name=<span class="string">"progressBarStyleHorizontal"</span>&gt;<span class="variable">@android</span><span class="symbol">:style/Widget</span>.<span class="constant">ProgressBar</span>.<span class="constant">Horizontal</span>&lt;<span class="regexp">/item&gt;</span>
</code></pre><p>继而在style.xml中发现</p>
<pre><code>&lt;style <span class="property">name</span>=<span class="string">"Widget.ProgressBar.Horizontal"</span>&gt;                                                                              
      &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:indeterminateOnly"</span>&gt;<span class="constant">false</span>&lt;/<span class="property">item</span>&gt;
      &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:progressDrawable"</span>&gt;@android:drawable/progress_horizontal&lt;/<span class="property">item</span>&gt;
      &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:indeterminateDrawable"</span>&gt;@android:drawable/progress_indeterminate_horizontal&lt;/<span class="property">item</span>&gt;
      &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:minHeight"</span>&gt;<span class="number">20</span>dip&lt;/<span class="property">item</span>&gt;
      &lt;<span class="property">item</span> <span class="property">name</span>=<span class="string">"android:maxHeight"</span>&gt;<span class="number">20</span>dip&lt;/<span class="property">item</span>&gt;
&lt;/style&gt;
</code></pre><h2 id="style-xml">style.xml</h2>
<p>一个style定义了ui的外观和样式，style可以被应用在一个单独的view，也可以应用在Activity或者Application(在manifest.xml中设置)</p>
<h3 id="语法">语法</h3>
<pre><code><span class="pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="tag">&lt;<span class="title">resources</span>&gt;</span>
    <span class="tag">&lt;<span class="title">style</span>
        <span class="attribute">name</span>=<span class="value">"style_name"</span>
        <span class="attribute">parent</span>=<span class="value">"@[package:]style/style_to_inherit"</span>&gt;</span><span class="css">
        &lt;<span class="tag">item</span>
            <span class="tag">name</span>="<span class="attr_selector">[package:]</span><span class="tag">style_property_name</span>"
            &gt;<span class="tag">style_value</span>&lt;/<span class="tag">item</span>&gt;
    </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
<span class="tag">&lt;/<span class="title">resources</span>&gt;</span>
</code></pre><ul>
<li>将一些通用的属性聚集在一起，以便于复用。</li>
<li>style可以继承，parent属性表示该style继承自哪个style</li>
<li>style可以重写parent style的中的属性</li>
<li>子元素使用<item></item>表示，item元素的属性name必须为某个sdk已定义的，或者开发者自定义的layout属性。</li>
<li></li>
</ul>
<h3 id="使用">使用</h3>
<ul>
<li>style=”?android:attr/progressBarStyleHorizontal”, 问号表示引用本style中已经定义过的值。</li>
</ul>
<h3 id="style的继承">style的继承</h3>
<ul>
<li>如果开发者想要使用sdk的一些style，那么需要使用parent属性</li>
<li><p>如果开发者想要使用自己的一些已有的style，就没有必要使用parent属行了，可以直接以parnt.child的形式来使用，实例更直观一点</p>
<p>  You can inherit from styles that you’ve created yourself or from styles that are built into the platform. (See Using Platform Styles and Themes, below, for information about inheriting from styles defined by the Android platform.) For example, you can inherit the Android platform’s default text appearance and then modify it:</p>
<pre><code>  <span class="tag">&lt;<span class="title">style</span> <span class="attribute">name</span>=<span class="value">"GreenText"</span> <span class="attribute">parent</span>=<span class="value">"@android:style/TextAppearance"</span>&gt;</span><span class="css">
      &lt;<span class="tag">item</span> <span class="tag">name</span>="<span class="tag">android</span><span class="pseudo">:textColor"</span>&gt;<span class="id">#00FF00</span>&lt;/<span class="tag">item</span>&gt;
  </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
</code></pre><p>  If you want to inherit from styles that you’ve defined yourself, you do not have to use the parent attribute. Instead, just prefix the name of the style you want to inherit to the name of your new style, separated by a period. For example, to create a new style that inherits the CodeFont style defined above, but make the color red, you can author the new style like this:</p>
<pre><code>  <span class="tag">&lt;<span class="title">style</span> <span class="attribute">name</span>=<span class="value">"CodeFont.Red"</span>&gt;</span><span class="css">
      &lt;<span class="tag">item</span> <span class="tag">name</span>="<span class="tag">android</span><span class="pseudo">:textColor"</span>&gt;<span class="id">#FF0000</span>&lt;/<span class="tag">item</span>&gt;
  </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
</code></pre><p>  Notice that there is no parent attribute in the <style> tag, but because the name attribute begins with the CodeFont style name (which is a style that you have created), this style inherits all style properties from that style. This style then overrides the android:textColor property to make the text red. You can reference this new style as @style/CodeFont.Red.</p>
<p>  You can continue inheriting like this as many times as you’d like, by chaining names with periods. For example, you can extend CodeFont.Red to be bigger, with:</p>
<pre><code>  <span class="tag">&lt;<span class="title">style</span> <span class="attribute">name</span>=<span class="value">"CodeFont.Red.Big"</span>&gt;</span><span class="css">
      &lt;<span class="tag">item</span> <span class="tag">name</span>="<span class="tag">android</span><span class="pseudo">:textSize"</span>&gt;30<span class="tag">sp</span>&lt;/<span class="tag">item</span>&gt;
  </span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
</code></pre><p>  This inherits from both CodeFont and CodeFont.Red styles, then adds the android:textSize property.</p>
</li>
</ul>
<h2 id="theme-xml">theme.xml</h2>
</style></p></li></ul>  
	</div>
		<footer class="article-footer clearfix">




<div class="article-share" id="share">

  <div data-url="http://yoursite.com/2015/05/19/Theme/" data-title="idealGrass" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/05/20/Preparation/" title="Preparation">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Preparation</span>
</a>
</div>


<div class="next">
<a href="/2015/04/24/watch-user-taken-a-picture/"  title="Android 导入手机图片">
 <strong>NEXT:</strong><br/> 
 <span>Android 导入手机图片
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#tags:Android,Style,Theme"><span class="toc-number">1.</span> <span class="toc-text">tags:Android,Style,Theme</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">2.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查找progressBarStyleHorizontal"><span class="toc-number">3.</span> <span class="toc-text">查找progressBarStyleHorizontal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#style-xml"><span class="toc-number">4.</span> <span class="toc-text">style.xml</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#语法"><span class="toc-number">4.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用"><span class="toc-number">4.2.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#style的继承"><span class="toc-number">4.3.</span> <span class="toc-text">style的继承</span></a></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  

  

  <div class="rsspart">
	<a href="null" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2015 
		
		<a href="http://yoursite.com" target="_blank" title="grass">grass</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"null"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





  </body>
</html>
